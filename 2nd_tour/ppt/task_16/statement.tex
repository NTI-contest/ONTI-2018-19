\assignementTitle{Усовершенствованный омметр}{4}

В задании на прошлой неделе вам предлагалось запрограммировать простой измеритель сопротивления.  
Вернемся вновь к этой теме, но внеся небольшие усовершенствования:  

\putImgWOCaption{10cm}{1}

1) Теперь между пином D2 и землей подключен нормально-разомкнутый кнопочный выключатель .  
Измеряемые резисторы можно заменять без выключения устройства.  После того, как очередной 
измеряемый резистор подключен к схеме, пользователь кратковременно нажимает кнопку. В момент 
отпускания кнопки, программа на Arduino производит измерение и выводит в виде числа значение 
сопротивления через последовательный порт.   Если измерение проведено до отпускания кнопки, 
или более чем через 10ms после этого момента,  analogRead() возвращает значение 1023 
(как если бы измеряемый резистор еще не подключили).  

2) Измеряемые сопротивления, в диапазоне от 10кОм до 82 кОм, выбираются из номинального ряда E12 
(Гугл в помощь!). Более того, как у настоящих резисторов, значения будут отклоняться от 
номиналов на случайную величину, не превышающую $10\%$ номинала.  Вашей программе нужно привести 
измеренное сопротивление к номиналу и вывести его в виде целого числа (в кОм) вызовом Serial.println().  
Например, если ваша программа получила значение 54кОм, то должно быть возвращено число 56 - ближайшее значение из номинального ряда.   Данные должны передаваться на скорости 9600 бод.

Напишите программу для мини-симулятора Arduino, которая реализует описанный выше функционал:  ждет нажатия и отпускания кнопки, проводит измерение, обрабатывает и выводит результат.  Разрешается пользоваться функциями pinMode(),  digitalRead(), analogRead() и delay(),  а также упрощенным классом Serial c методами begin(), print() и println().  

ВАЖНО: в отличие от реального Arduino, в программе для мини-симулятора любые циклы ожидания должны включать вызов функции delay(),  иначе в симуляторе "время не идет" и ваша программа  "зациклится" - не сможет дождаться никаких внешних событий.

\begin{myverbbox}[\small]{\vinput}
    19
    818
    869
    518
    906
    523
    741
    510
    692
    556
    869
    517
    789
    509
    739
    844
    849
    614
    648
    500
\end{myverbbox}
\begin{myverbbox}[\small]{\voutput}
    39
    56
    10
    82
    10
    27
    10
    22
    12
    56
    10
    33
    10
    27
    47
    47
    15
    18
    10
\end{myverbbox}
\inputoutputTable

%\includeSolutionIfExistsByPath{2nd_tour/bas/task_01}