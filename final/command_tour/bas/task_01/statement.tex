\assignementTitle{}{7}{}

Напишите программу управления ШИМ сигналом через потенциометр. Длительность импульса ШИМ сигнала должна изменяться от 1000 до 2000 мкс в зависимости от напряжения на выходе потенциометра (1000 мкс для минимального выходного напряжения и 2000 мкс для максимального). Соберите схему и при помощи осциллографа снимите статическую характеристику напряжение-длительность импульса ШИМ сигнала

\solutionSection

\begin{enumerate}
    \item Подключить потенциометр к контроллеру по следующей схеме:
          \putImgWOCaption{7cm}{1}
          \begin{center}
            Рис. 1 Схема подключения потенциометра.
          \end{center}
          
    \item Определить реальное максимальное U\_max и минимальное U\_min выходное напряжение потенциометра. Программа читает отсчеты АЦП на ножке А0 и определяет максимальное и минимальное значение. Во время этого ручку потенциометра требуется вращать из одного крайнего положения в другое.
    \item Рассчитать коэффициенты линейного преобразования $PWM=kU_\text{вх}+b$:
    $$k=\frac{1000}{U_\text{max}-U_\text{min}}$$
    $$b=1000\left(1-\frac{U_\text{min}}{U_\text{max}-U_\text{min}}\right),$$
    где $PWM$ – длительность импульса выходного ШИМ сигнала, $U_\text{вх}$ – входное напряжение на ножку А0. Число 1000 – минимальное значение $PWM$
    \item В основном цикле программы провести чтение входного напряжение $U_\text{вх}$ на ножку А0, рассчитать значение $PWM=kU_\text{вх}+b$, вывести ШИМ сигнал на цифровую ножку 2 с длительностью импульса $PWM$ (мкс).
\end{enumerate}

\includeSolutionIfExistsByPath{final/command_tour/bas/task_01}